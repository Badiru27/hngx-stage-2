# HNGX Stage 2 Task User CRUD API Documentation 

## Overview

This document provides information about the CRUD (Create, Read, Update, Delete) operations available through the User API.

The API allows you to manage user data, including creating, reading, updating, and deleting user records.

# Setting up Your API Locally

This guide will walk you through setting up your API locally. Please make sure you have Go installed on your machine and a MongoDB database ready with the connection URI (MONGOURI).

## Prerequisites

- [Go](https://golang.org/dl/) installed on your local machine.
- A MongoDB database and its connection URI (MONGOURI).

## Steps

1. **Clone the Repository**

   Clone your API repository from your version control system (e.g., GitHub):

   ```shell
   git clone https://github.com/Badiru27/hngx-stage-2/
   cd hngx-stage-2
   ```

2. **Create a .env File**

    Create a `.env` file in the root directory of your API project. Add the MONGOURI variable with your MongoDB connection URI:
    
    ``` shell
        MONGOURI=mongodb://localhost:27017/your-database-name
    ```

3. **Run the API Locally**

    You can start your API locally by running the following command from the root directory of your project:
    ``` shell
    go run main.go
    ```

## API Endpoints

The following API endpoints are available:

### Create User

- **Endpoint:** `POST /api`
- **Description:** Create a new user record.
- **Request Body:** A JSON object representing the user with the following fields:
  - `name` (string, required): The name of the user.
- **Response:** JSON response with the newly created user's ID and name.
- **Status Codes:**
  - `201 Created`: User successfully created.
  - `400 Bad Request`: Invalid request format.
  - `403 Forbidden Request`: User already exist.
  - `500 Internal Server Error`: Server error.

### Get User

- **Endpoint:** `GET /api/:userId`
- **Description:** Retrieve a user record by their name.
- **Request Params:** The `name` parameter in the URL specifies the name of the user to retrieve.
- **Response:** JSON response with the user's ID and name.
- **Status Codes:**
  - `200 OK`: User found and retrieved.
  - `404 Not Found`: User with the specified name not found.
  - `500 Internal Server Error`: Server error.

### Update User

- **Endpoint:** `PUT /api/:userId`
- **Description:** Update an existing user record by their name.
- **Request Params:** The `userId` parameter in the URL specifies the name of the user to update.
- **Request Body:** A JSON object representing the user with the following fields:
  - `name` (string, required): The updated name of the user.
- **Response:** JSON response with the updated user's ID and name.
- **Status Codes:**
  - `200 OK`: User successfully updated.
  - `400 Bad Request`: Invalid request format.
  - `404 Not Found`: User with the specified name not found.
  - `500 Internal Server Error`: Server error.

### Delete User

- **Endpoint:** `DELETE /api/:userId`
- **Description:** Delete an existing user record by their name.
- **Request Params:** The `name` parameter in the URL specifies the name of the user to delete.
- **Response:** JSON response indicating the success of the deletion operation.
- **Status Codes:**
  - `204 No Content`: User successfully deleted.
  - `404 Not Found`: User with the specified name not found.
  - `500 Internal Server Error`: Server error.

## User Data Model

The User data model consists of the following fields:

- `id` (string, autogenerated): The unique identifier for the user.
- `name` (string, required): The name of the user.

The `id` field is autogenerated and should not be provided when creating a new user; it will be generated automatically.
